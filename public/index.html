<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¼˜é€‰è‡ªå®šä¹‰host - æ™ºèƒ½ IP ä¼˜é€‰ | è‡ªå®šä¹‰åŸŸååŠ é€Ÿå·¥å…·</title>

  <meta name="description" content="ä¼˜é€‰è‡ªå®šä¹‰host æ˜¯ä¸€ä¸ªæ™ºèƒ½ IP ä¼˜é€‰å·¥å…·ï¼Œä½¿ç”¨ Cloudflare Workers å’Œå…¬å…± DNS API æ¥åŠ é€Ÿè®¿é—®è‡ªå®šä¹‰åŸŸåï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç®¡ç†å’Œæ™ºèƒ½ä¼˜é€‰ã€‚">
  <meta name="keywords" content="è‡ªå®šä¹‰åŸŸååŠ é€Ÿ,IPä¼˜é€‰,Hostså·¥å…·,DNSä¼˜åŒ–,Cloudflare Workers,åŸŸååŠ é€Ÿ">
  <meta name="author" content="Yan-nian">
  <link rel="canonical" href="#" />

  <meta property="og:title" content="ä¼˜é€‰è‡ªå®šä¹‰host - æ™ºèƒ½ IP ä¼˜é€‰ | è‡ªå®šä¹‰åŸŸååŠ é€Ÿå·¥å…·">
  <meta property="og:description" content="ä½¿ç”¨ Cloudflare Workers å’Œå…¬å…± DNS API æ¥æ™ºèƒ½ä¼˜é€‰åŸŸå IPï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç®¡ç†ï¼Œæ¯å°æ—¶è‡ªåŠ¨æ›´æ–°ï¼Œæ°¸ä¹…å…è´¹ã€‚">
  <meta property="og:image" content="/og.svg">
  <meta property="og:url" content="#">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="ä¼˜é€‰è‡ªå®šä¹‰host">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ä¼˜é€‰è‡ªå®šä¹‰host - æ™ºèƒ½ IP ä¼˜é€‰">
  <meta name="twitter:description" content="ä½¿ç”¨ Cloudflare Workers å’Œå…¬å…± DNS API æ¥æ™ºèƒ½ä¼˜é€‰åŸŸå IPï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸåç®¡ç†ã€‚">
  <meta name="twitter:image" content="/og.svg">

  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#ffffff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="icon" type="image/ico" href="/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <link rel="icon" type="image/png" href="/logo.png">
  <link rel="apple-touch-icon" href="/logo.svg">
  <link rel="preconnect" href="https://github.com">
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <div class="header">
    <div class="logo-container">
      <img src="/logo.svg" alt="ä¼˜é€‰è‡ªå®šä¹‰host" class="logo" />
    </div>
    <h1>ä¼˜é€‰è‡ªå®šä¹‰host</h1>
    <p>ä½¿ç”¨ Cloudflare Workers å’Œå…¬å…± DNS API æ™ºèƒ½ä¼˜é€‰åŸŸå IP</p>

  </div>

  <!-- ä¸»åŠŸèƒ½é€‰é¡¹å¡ -->
  <div class="tabs">
    <div class="tab active" data-tab="hosts">Hosts æ–‡ä»¶</div>
    <div class="tab" data-tab="api">API æ–‡æ¡£</div>
    <div class="tab" data-tab="help">ä½¿ç”¨å¸®åŠ©</div>
  </div>

  <!-- Hosts æ–‡ä»¶é€‰é¡¹å¡ -->
  <div class="tab-content active" id="hosts-tab">
    <h2>ğŸ“‹ å½“å‰ Hosts å†…å®¹ï¼ˆå·²å¯ç”¨IPä¼˜é€‰å’Œè‡ªå®šä¹‰åŸŸåï¼‰</h2>
    <div class="control-panel">
      <!-- IPä¼˜é€‰å’Œè‡ªå®šä¹‰åŸŸååŠŸèƒ½å·²é»˜è®¤å¯ç”¨ -->
      <button id="refreshHosts" class="btn btn-primary">ç«‹å³ä¼˜é€‰åˆ·æ–°</button>
      <span id="hostsStatus" class="status-text">ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼Œæ¯å°æ—¶è‡ªåŠ¨æ›´æ–°</span>
    </div>
    
    <div class="hosts-container">
      <div class="hosts-header">
        <span>Hosts æ–‡ä»¶å†…å®¹</span>
        <button class="copy-btn" id="copyHosts">å¤åˆ¶</button>
      </div>
      <pre id="hosts">æ­£åœ¨åŠ è½½ hosts å†…å®¹...</pre>
    </div>

    <h3>ğŸ“¥ å¿«é€Ÿä½¿ç”¨æ–¹æ³•</h3>
    <div class="method-cards">
      <div class="method-card">
        <h4>SwitchHosts å·¥å…·</h4>
        <p>æ¨èä½¿ç”¨ï¼Œå¯è‡ªåŠ¨æ›´æ–°</p>
        <ul>
          <li>URL: <code id="switchHostsUrl">åŠ è½½ä¸­...</code></li>
          <li>æ›´æ–°é—´éš”ï¼š1å°æ—¶</li>
        </ul>
        <button class="copy-btn" data-copy="switchHostsUrl">å¤åˆ¶ URL</button>
      </div>
      <div class="method-card">
        <h4>å‘½ä»¤è¡Œå·¥å…·</h4>
        <p>ä¸€é”®å®‰è£…å’Œæ›´æ–°</p>
        <pre><code class="bash">curl -fsSL https://github.com/Yan-nian/custom-host/releases/download/v1.0.0/install.sh | sudo bash</code></pre>
        <button class="copy-btn" data-copy="install-cmd">å¤åˆ¶å‘½ä»¤</button>
      </div>
    </div>
  </div>

  <!-- è‡ªå®šä¹‰åŸŸåé€‰é¡¹å¡å·²ç§»è‡³ç®¡ç†åå° -->

  <!-- API æ–‡æ¡£é€‰é¡¹å¡ -->
  <div class="tab-content" id="api-tab">
    <h2>ğŸ”§ API æ¥å£æ–‡æ¡£</h2>
    <div class="api-section">
      <h3>åŸºç¡€æ¥å£</h3>
      <table class="api-table">
        <tr>
          <th>æ¥å£</th>
          <th>æ–¹æ³•</th>
          <th>å‚æ•°</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td>/hosts</td>
          <td><span class="method get">GET</span></td>
          <td>refresh=[true|false], custom=[true|false]</td>
          <td>è·å– hosts æ–‡ä»¶å†…å®¹ï¼Œæ”¯æŒå¼ºåˆ¶åˆ·æ–°ç¼“å­˜</td>
        </tr>
        <tr>
          <td>/hosts.json</td>
          <td><span class="method get">GET</span></td>
          <td>refresh=[true|false]</td>
          <td>è·å– JSON æ ¼å¼çš„åŸŸåæ•°æ®ï¼ŒåŒ…å«ç»Ÿè®¡ä¿¡æ¯</td>
        </tr>
        <tr>
          <td>/{domain}</td>
          <td><span class="method get">GET</span></td>
          <td>-</td>
          <td>è·å–æŒ‡å®šåŸŸåçš„å®æ—¶ DNS è§£æç»“æœ</td>
        </tr>
      </table>

      <h3>ç®¡ç†æ¥å£</h3>
      <table class="api-table">
        <tr>
          <th>æ¥å£</th>
          <th>æ–¹æ³•</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td>/api/custom-domains</td>
          <td><span class="method get">GET</span></td>
          <td>è·å–è‡ªå®šä¹‰åŸŸååˆ—è¡¨</td>
        </tr>
        <tr>
          <td>/api/custom-domains</td>
          <td><span class="method post">POST</span></td>
          <td>æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼Œéœ€è¦æä¾›domainå­—æ®µï¼Œå¯é€‰descriptionå­—æ®µ</td>
        </tr>
        <tr>
          <td>/api/custom-domains/batch</td>
          <td><span class="method post">POST</span></td>
          <td>æ‰¹é‡æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼Œéœ€è¦æä¾›domainsæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ åŒ…å«domainå­—æ®µ</td>
        </tr>
        <tr>
          <td>/api/custom-domains/{domain}</td>
          <td><span class="method delete">DELETE</span></td>
          <td>åˆ é™¤æŒ‡å®šçš„è‡ªå®šä¹‰åŸŸå</td>
        </tr>
        <tr>
          <td>/api/custom-domains</td>
          <td><span class="method delete">DELETE</span></td>
          <td>æ¸…ç©ºæ‰€æœ‰è‡ªå®šä¹‰åŸŸå</td>
        </tr>
        <tr>
          <td>/api/optimize/{domain}</td>
          <td><span class="method post">POST</span></td>
          <td>ä¼˜é€‰æŒ‡å®šåŸŸåçš„ IP åœ°å€</td>
        </tr>
        <tr>
          <td>/api/optimize-all</td>
          <td><span class="method post">POST</span></td>
          <td>ä¼˜é€‰æ‰€æœ‰è‡ªå®šä¹‰åŸŸåçš„ IP åœ°å€ï¼ˆéœ€è¦ API Key æˆ–ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
        <tr>
          <td>/api/cache/status</td>
          <td><span class="method get">GET</span></td>
          <td>æŸ¥çœ‹ç¼“å­˜çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯</td>
        </tr>
        <tr>
          <td>/api/cache/refresh</td>
          <td><span class="method post">POST</span></td>
          <td>æ‰‹åŠ¨åˆ·æ–° GitHub åŸŸåç¼“å­˜ï¼ˆéœ€è¦ API Key æˆ–ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
        <tr>
          <td>/api/cache</td>
          <td><span class="method delete">DELETE</span></td>
          <td>æ¸…ç©ºæ‰€æœ‰ç¼“å­˜æ•°æ®ï¼ˆéœ€è¦ API Key æˆ–ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
        <tr>
          <td>/api/reset</td>
          <td><span class="method post">POST</span></td>
          <td>æ¸…ç©ºç¼“å­˜å¹¶é‡æ–°è·å–GitHubåŸŸåæ•°æ®</td>
        </tr>
      </table>

      <h3>ç³»ç»Ÿé…ç½®æ¥å£</h3>
      <table class="api-table">
        <tr>
          <th>æ¥å£</th>
          <th>æ–¹æ³•</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td>/api/system/config</td>
          <td><span class="method get">GET</span></td>
          <td>è·å–ç³»ç»Ÿé…ç½®ä¿¡æ¯ï¼ˆéœ€è¦ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
        <tr>
          <td>/api/system/api-key</td>
          <td><span class="method put">PUT</span></td>
          <td>æ›´æ–° API Keyï¼ˆéœ€è¦ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
        <tr>
          <td>/api/system/admin-path</td>
          <td><span class="method put">PUT</span></td>
          <td>æ›´æ–°ç®¡ç†åå°åœ°å€ï¼ˆéœ€è¦ API Key æˆ–ç®¡ç†åå°è®¿é—®ï¼‰</td>
        </tr>
      </table>

      <h3>è°ƒè¯•æ¥å£</h3>
      <table class="api-table">
        <tr>
          <th>æ¥å£</th>
          <th>æ–¹æ³•</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td>/test-custom-domains</td>
          <td><span class="method get">GET</span></td>
          <td>æµ‹è¯•æ‰€æœ‰è‡ªå®šä¹‰åŸŸåçš„è§£æçŠ¶æ€</td>
        </tr>
        <tr>
          <td>/debug</td>
          <td><span class="method get">GET</span></td>
          <td>è·å–ç³»ç»Ÿè°ƒè¯•ä¿¡æ¯å’ŒåŸŸåç»Ÿè®¡</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- ä½¿ç”¨å¸®åŠ©é€‰é¡¹å¡ -->
  <div class="tab-content" id="help-tab">
    <h2>ï¿½ ä½¿ç”¨å¸®åŠ©</h2>
    
    <h3>ğŸ’» å‘½ä»¤è¡Œå·¥å…·</h3>
    <h4>MacOS ç”¨æˆ·</h4>
    <pre><code class="language-bash">sudo curl -fsSL https://github.com/Yan-nian/custom-host/releases/download/v1.0.0/custom-hosts.darwin-arm64 -o custom-hosts && sudo chmod +x ./custom-hosts && ./custom-hosts</code></pre>

    <h4>Windows ç”¨æˆ·</h4>
    <p>åœ¨ç®¡ç†å‘˜æƒé™çš„ PowerShell ä¸­æ‰§è¡Œï¼š</p>
    <pre><code class="language-powershell">irm https://github.com/Yan-nian/custom-host/releases/download/v1.0.0/custom-hosts.windows-amd64.exe | iex</code></pre>

    <h4>Linux ç”¨æˆ·</h4>
    <pre><code class="language-bash">sudo curl -fsSL https://github.com/Yan-nian/custom-host/releases/download/v1.0.0/custom-hosts.linux-amd64 -o custom-hosts && sudo chmod +x ./custom-hosts && ./custom-hosts</code></pre>

    <h3>ğŸ› ï¸ æ‰‹åŠ¨æ›´æ–°</h3>
    <ol>
      <li>è·å– hosts å†…å®¹å¹¶å¤åˆ¶</li>
      <li>ç¼–è¾‘æœ¬åœ° hosts æ–‡ä»¶ï¼š
        <ul>
          <li>Windowsï¼š<code>C:\Windows\System32\drivers\etc\hosts</code></li>
          <li>MacOS/Linuxï¼š<code>/etc/hosts</code></li>
        </ul>
      </li>
      <li>ç²˜è´´å†…å®¹å¹¶ä¿å­˜</li>
      <li>åˆ·æ–° DNS ç¼“å­˜ï¼š
        <ul>
          <li>Windowsï¼š<code>ipconfig /flushdns</code></li>
          <li>MacOSï¼š<code>sudo killall -HUP mDNSResponder</code></li>
          <li>Linuxï¼š<code>sudo systemd-resolve --flush-caches</code></li>
        </ul>
      </li>
    </ol>

    <h3>â“ å¸¸è§é—®é¢˜</h3>
    <h4>æƒé™é—®é¢˜</h4>
    <ul>
      <li>Windowsï¼šéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</li>
      <li>MacOS/Linuxï¼šéœ€è¦ sudo æƒé™</li>
    </ul>

    <h4>IP ä¼˜é€‰è¯´æ˜</h4>
    <ul>
      <li>å¯ç”¨åä¼šæµ‹è¯•å¤šä¸ª IP çš„å“åº”æ—¶é—´</li>
      <li>é€‰æ‹©å“åº”æœ€å¿«çš„ IP åœ°å€</li>
      <li>å¤„ç†æ—¶é—´å¯èƒ½è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…</li>
      <li>ä¸»é¡µçš„"ç«‹å³ä¼˜é€‰åˆ·æ–°"ä¼šå¯¹æ‰€æœ‰è‡ªå®šä¹‰åŸŸåæ‰§è¡Œä¼˜é€‰</li>
    </ul>

    <h4>è‡ªå®šä¹‰åŸŸååŠŸèƒ½</h4>
    <ul>
      <li>æ”¯æŒä»»æ„åŸŸåçš„ IP ä¼˜é€‰</li>
      <li>ä¼šè‡ªåŠ¨åŒ…å«åœ¨ hosts æ–‡ä»¶ä¸­</li>
      <li>ç«‹å³ä¼˜é€‰åˆ·æ–°ä¼šå¯¹æ‰€æœ‰è‡ªå®šä¹‰åŸŸåè¿›è¡Œä¼˜é€‰</li>
      <li>ä¼˜é€‰è¿‡ç¨‹ä¼šæ˜¾ç¤ºè¯¦ç»†çš„æˆåŠŸ/å¤±è´¥ç»Ÿè®¡</li>
    </ul>

    <h4>API ä½¿ç”¨ç¤ºä¾‹</h4>
    <ul>
      <li>è·å–å®Œæ•´hostsæ–‡ä»¶ï¼š<code>GET /hosts</code></li>
      <li>å¼ºåˆ¶åˆ·æ–°ç¼“å­˜ï¼š<code>GET /hosts?refresh=true</code></li>
      <li>ä»…è·å–GitHubåŸŸåï¼š<code>GET /hosts?custom=false</code></li>
      <li>è·å–JSONæ ¼å¼æ•°æ®ï¼š<code>GET /hosts.json</code></li>
      <li>æŸ¥çœ‹ç¼“å­˜çŠ¶æ€ï¼š<code>GET /api/cache/status</code></li>
      <li>æŸ¥çœ‹åŸŸåç»Ÿè®¡ï¼š<code>GET /hosts.json</code></li>
    </ul>
    
    <h4>ç®¡ç† APIï¼ˆéœ€è¦éªŒè¯ï¼‰</h4>
    <p><strong>æ³¨æ„ï¼š</strong>ç®¡ç†ç±» API éœ€è¦é€šè¿‡<a href="/admin-x7k9m3q2">ç®¡ç†åå°</a>è®¿é—®ï¼Œæˆ–ä½¿ç”¨ API Key éªŒè¯ã€‚</p>
    <ul>
      <li>ä¼˜é€‰æ‰€æœ‰åŸŸåï¼š<code>curl -X POST -H "x-api-key: YOUR_API_KEY" /api/optimize-all</code></li>
      <li>æ‰‹åŠ¨åˆ·æ–°ç¼“å­˜ï¼š<code>curl -X POST -H "x-api-key: YOUR_API_KEY" /api/cache/refresh</code></li>
      <li>æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼š<code>POST /api/custom-domains</code>ï¼ˆéœ€è¦ç®¡ç†åå°ï¼‰</li>
      <li>æ‰¹é‡æ·»åŠ åŸŸåï¼š<code>POST /api/custom-domains/batch</code>ï¼ˆéœ€è¦ç®¡ç†åå°ï¼‰</li>
    </ul>
    
    <h4>ä¸»é¡µåˆ·æ–°ä¸“ç”¨ API Key</h4>
    <p><strong>ç‰¹æ®ŠåŠŸèƒ½ï¼š</strong>ä¸»é¡µåˆ·æ–°æŒ‰é’®ä½¿ç”¨é™åˆ¶æƒé™çš„ç‰¹æ®Š API Keyã€‚</p>
    <ul>
      <li>Keyå€¼ï¼š<code>main-page-refresh</code></li>
      <li>æƒé™ï¼šä»…å…è®¸è®¿é—®ä¼˜é€‰å’Œç¼“å­˜åˆ·æ–°åŠŸèƒ½</li>
      <li>ä¼˜åŠ¿ï¼šä¸»é¡µåŠŸèƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä½†ä¸èƒ½æ‰§è¡Œæ•æ„Ÿç®¡ç†æ“ä½œ</li>
      <li>å®‰å…¨ï¼šå³ä½¿Keyæ³„éœ²ï¼Œä¹Ÿæ— æ³•è¿›è¡ŒåŸŸåç®¡ç†ç­‰å±é™©æ“ä½œ</li>
    </ul>
  </div>

  <footer style="margin-top: 50px; text-align: center; color: #666;">
    <p>Made with â¤ï¸ by <a href="https://github.com/Yan-nian">Yan-nian</a></p>
    <p>æ„Ÿè°¢ <a href="https://github.com/TinsFox/github-hosts">TinsFox/github-hosts</a> å’Œ <a href="https://github.com/521xueweihan/GitHub520">GitHub520</a> æä¾›çš„çµæ„Ÿ</p>
  </footer>

  <script src="/simple.js"></script>
</body>

</html>